# üìä –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–Ω–æ–ø–∫–æ–π "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"

**–î–∞—Ç–∞:** 15 –æ–∫—Ç—è–±—Ä—è 2025, 15:58 MSK  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ —Å—Ç–∞—Ä–æ–µ –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê**

## üîç –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –°–∏–º–ø—Ç–æ–º—ã:
- ‚úÖ –í—Ä–µ–º—è –∑–∞–±–µ–≥–∞ –±—ã–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ API –≤–æ–∑–≤—Ä–∞—â–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞
- ‚ùå **–ö–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" –≤ –±–æ—Ç–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ —Å—Ç–∞—Ä–æ–µ –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞**

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
- –ö–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞
- –í—Ä–µ–º—è –∑–∞–±–µ–≥–∞: 15 –æ–∫—Ç—è–±—Ä—è 2025, 16:00 MSK - 16 –æ–∫—Ç—è–±—Ä—è 2025, 16:00 MSK

## üïµÔ∏è –ê–Ω–∞–ª–∏–∑ –∏ –ø–æ–∏—Å–∫ –ø—Ä–∏—á–∏–Ω—ã

### –ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
1. ‚úÖ **–õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. ‚úÖ **API endpoints** - –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞
3. ‚ùå **–ë–æ—Ç** - –ø–æ–∫–∞–∑—ã–≤–∞–ª —Å—Ç–∞—Ä–æ–µ –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞

### üö® –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:

**–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π SERVER_URL:**

```javascript
// –ü–†–û–ë–õ–ï–ú–ê:
SERVER_URL=https://ultra-marathon-tracker.netlify.app  // –ü—Ä–æ–¥–∞–∫—à–µ–Ω URL

// –§—É–Ω–∫—Ü–∏—è getApiUrl() –æ–ø—Ä–µ–¥–µ–ª—è–ª–∞, —á—Ç–æ —ç—Ç–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω:
if (SERVER_URL.includes('netlify.app')) {
  return `${SERVER_URL}/.netlify/functions/${endpoint}`;  // ‚ùå Netlify —Ñ—É–Ω–∫—Ü–∏–∏
} else {
  return `${SERVER_URL}/api/${endpoint}`;  // ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π API
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ:**
1. –ë–æ—Ç —á–∏—Ç–∞–ª `SERVER_URL` –∏–∑ `.env` —Ñ–∞–π–ª–∞
2. `SERVER_URL` —É–∫–∞–∑—ã–≤–∞–ª –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω (`https://ultra-marathon-tracker.netlify.app`)
3. –ë–æ—Ç –æ–±—Ä–∞—â–∞–ª—Å—è –∫ Netlify —Ñ—É–Ω–∫—Ü–∏—è–º –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ API
4. Netlify —Ñ—É–Ω–∫—Ü–∏–∏ –µ—â–µ –Ω–µ –±—ã–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å –Ω–æ–≤—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∑–∞–±–µ–≥–∞
5. –ë–æ—Ç –ø–æ–ª—É—á–∞–ª —Å—Ç–∞—Ä–æ–µ –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞ –∏–∑ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º SERVER_URL:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ –±–æ—Ç–∞
pkill -f "node bot/bot.js"

# –ó–∞–ø—É—Å–∫ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º URL
SERVER_URL=http://localhost:3000 node bot/bot.js &
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ë–æ—Ç —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É API (`http://localhost:3000/api/`)
- ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:
1. ‚úÖ **API –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–±–µ–≥–∞** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
2. ‚úÖ **API –¥–∞–Ω–Ω—ã—Ö** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. ‚úÖ **–°–∏–º—É–ª—è—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –±–æ—Ç–∞** - –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. ‚úÖ **–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** - –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```
‚úÖ –í—Ä–µ–º—è –∑–∞–±–µ–≥–∞ –ø–æ–ª—É—á–µ–Ω–æ: {
  race_start: '2025-10-15T16:00:00+03:00',
  race_end: '2025-10-16T16:00:00+03:00'
}
‚úÖ –í—Ä–µ–º—è –∑–∞–±–µ–≥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ
```

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
- ‚úÖ **–ë–æ—Ç:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π API
- ‚úÖ **–í—Ä–µ–º—è –∑–∞–±–µ–≥–∞:** –û–±–Ω–æ–≤–ª–µ–Ω–æ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞":** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
- ‚úÖ **API:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω:
- ‚è≥ **–í—Ä–µ–º—è –∑–∞–±–µ–≥–∞:** –û–∂–∏–¥–∞–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π Netlify Blobs
- ‚è≥ **Netlify —Ñ—É–Ω–∫—Ü–∏–∏:** –ë—É–¥—É—Ç –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- ‚úÖ **–°–∞–π—Ç:** –î–æ—Å—Ç—É–ø–µ–Ω

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- **–ë—ã–ª–æ:** `SERVER_URL=https://ultra-marathon-tracker.netlify.app`
- **–°—Ç–∞–ª–æ:** `SERVER_URL=http://localhost:3000` (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è API:
```javascript
function getApiUrl(endpoint) {
  if (SERVER_URL.includes('netlify.app')) {
    // –ü—Ä–æ–¥–∞–∫—à–µ–Ω: Netlify —Ñ—É–Ω–∫—Ü–∏–∏
    return `${SERVER_URL}/.netlify/functions/${endpoint}`;
  } else {
    // –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞: –æ–±—ã—á–Ω—ã–µ API endpoints
    return `${SERVER_URL}/api/${endpoint}`;
  }
}
```

### –ó–∞–ø—Ä–æ—Å—ã –±–æ—Ç–∞:
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** `GET /api/data` + `GET /api/set_race_time`
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–º:** `POST /api/data`
- **–°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö:** `POST /api/data` —Å `{reset: true}`

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞
- ‚úÖ **–í—Ä–µ–º—è –∑–∞–±–µ–≥–∞:** 15 –æ–∫—Ç—è–±—Ä—è 2025, 16:00 MSK - 16 –æ–∫—Ç—è–±—Ä—è 2025, 16:00 MSK
- ‚úÖ **–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞** —Ä–∞–±–æ—Ç–∞—é—Ç —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:** `SERVER_URL=http://localhost:3000`
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ:** –ß—Ç–æ –±–æ—Ç –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É API
3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ:** –ö–Ω–æ–ø–∫–∏ –±–æ—Ç–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
1. **–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è** Netlify Blobs –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞ –±—É–¥–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ** —Ä–∞–±–æ—Ç—É –∫–Ω–æ–ø–∫–∏ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
3. **–û–±–Ω–æ–≤–∏—Ç–µ** –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

**–°—Ç–∞—Ç—É—Å:** üü¢ **–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê**

–ö–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" –≤ –±–æ—Ç–µ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–±–µ–≥–∞. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞.

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: 15.10.2025 –≤ 15:58 MSK*  
*–ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–Ω–æ–ø–∫–æ–π "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" —Ä–µ—à–µ–Ω–∞*
